<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Nodes and Splits in an rpart Tree — Node • ModTools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Nodes and Splits in an rpart Tree — Node"><meta name="description" content="The rpart result object has a complex and compact design. This can make practical use tedious for occasional users as it is difficult to figure out how to access some specific information. The function Node() is designed as accessor to the most important properties of a node, being a 'split' or a 'leaf' (aka. 'endnode'). It also serves as base for further convenience functions as e.g. LeafRates()."><meta property="og:description" content="The rpart result object has a complex and compact design. This can make practical use tedious for occasional users as it is difficult to figure out how to access some specific information. The function Node() is designed as accessor to the most important properties of a node, being a 'split' or a 'leaf' (aka. 'endnode'). It also serves as base for further convenience functions as e.g. LeafRates()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ModTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AndriSignorell/ModTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Nodes and Splits in an rpart Tree</h1>

      <div class="d-none name"><code>Node.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>rpart</code> result object has a complex and compact design. This can make practical use tedious for occasional users as it is difficult to figure out how to access some specific information. The function <code>Node()</code> is designed as accessor to the most important properties of a node, being a 'split' or a 'leaf' (aka. 'endnode'). It also serves as base for further convenience functions as e.g. <code><a href="LeafRates.html">LeafRates</a>()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Node</span><span class="op">(</span><span class="va">x</span>, node <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"split"</span>, <span class="st">"leaf"</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>fitted model object of class <code>rpart</code>.</p></dd>

  <dt id="arg-node">node<a class="anchor" aria-label="anchor" href="#arg-node"></a></dt>
<dd><p>integer vector, defining the nodes whose details are required.</p></dd>

  <dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>one out of <code>"all"</code> (default), <code>"split"</code>, <code>"leaf"</code>, where the latter two restrict the result set to splits or end nodes only. Can be abbreviated.</p></dd>

<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>the number of digits for numeric values</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>Node()</code> returns detailed information for a single node in the tree. It reports all the data in the summary of a node, but with the option to provide a nodelist. The structure of the result is organised as a list.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing:</p>
<dl><dt>id</dt>
<dd><p>int, id of the node</p></dd>

<dt>vname </dt>
<dd><p>character, one out of <code>'leaf'</code> or <code>'split'</code></p></dd>

<dt>isleaf </dt>
<dd><p>logical, <code>TRUE</code> for leaves <code>FALSE</code> else</p></dd>

<dt>nobs</dt>
<dd><p>integer, number of observation in the node</p></dd>

<dt>group  </dt>
<dd><p>character, the predicted class for the node</p></dd>

<dt>ycount</dt>
<dd><p>numeric, the number of observation per class in the node</p></dd>

<dt>yprob</dt>
<dd><p>numeric, the relative frequencies for the each class</p></dd>

<dt>nodeprob </dt>
<dd><p>the global probability for an observation to fall in the node</p></dd>

<dt>complexity</dt>
<dd><p>numeric, the complexity parameter for the node</p></dd>

<dt>tprint</dt>
<dd><p>character, the text to be printed</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Andri Signorell &lt;andri@signorell.net&gt;</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="LeafRates.html">LeafRates</a></code>, <code><a href="Rules.html">Rules</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">r.rpart</span> <span class="op">&lt;-</span> <span class="fu"><a href="FitMod.html">FitMod</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">~</span> <span class="va">.</span>, data<span class="op">=</span><span class="va">iris</span>, fitfn<span class="op">=</span><span class="st">"rpart"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># return Node nr. 3</span></span></span>
<span class="r-in"><span><span class="fu">Node</span><span class="op">(</span><span class="va">r.rpart</span>, node<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Node number 3: 100 observations,    complexity param=0.44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   predicted class=versicolor  expected loss=0.5  P(node) =0.667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     class counts:     0    50    50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    probabilities: 0.000 0.500 0.500 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   left son=6 (54 obs) right son=7 (46 obs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Primary splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 1.75 to the left,  improve=39, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  improve=37.4, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  improve=10.7, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.45 to the left,  improve=3.56, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Surrogate splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  agree=0.91, adj=0.804, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  agree=0.73, adj=0.413, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.95 to the left,  agree=0.67, adj=0.283, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">r.rp</span> <span class="op">&lt;-</span> <span class="fu"><a href="FitMod.html">FitMod</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">d.glass</span>, fitfn<span class="op">=</span><span class="st">"rpart"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># return all the splits</span></span></span>
<span class="r-in"><span><span class="fu">Node</span><span class="op">(</span><span class="va">r.rpart</span>, type<span class="op">=</span><span class="st">"split"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Node number 1: 150 observations,    complexity param=0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   predicted class=setosa      expected loss=0.667  P(node) =1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     class counts:    50    50    50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    probabilities: 0.333 0.333 0.333 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   left son=2 (50 obs) right son=3 (100 obs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Primary splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 2.45 to the left,  improve=50, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 0.8  to the left,  improve=50, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 5.45 to the left,  improve=34.2, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 3.35 to the right, improve=19, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Surrogate splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 0.8  to the left,  agree=1, adj=1, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 5.45 to the left,  agree=0.92, adj=0.76, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 3.35 to the right, agree=0.833, adj=0.5, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Node number 3: 100 observations,    complexity param=0.44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   predicted class=versicolor  expected loss=0.5  P(node) =0.667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     class counts:     0    50    50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    probabilities: 0.000 0.500 0.500 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   left son=6 (54 obs) right son=7 (46 obs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Primary splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 1.75 to the left,  improve=39, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  improve=37.4, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  improve=10.7, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.45 to the left,  improve=3.56, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Surrogate splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  agree=0.91, adj=0.804, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  agree=0.73, adj=0.413, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.95 to the left,  agree=0.67, adj=0.283, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

