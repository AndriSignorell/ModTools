<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Nodes and Splits in an rpart Tree
 — Node • ModTools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Nodes and Splits in an rpart Tree
 — Node"><meta property="og:description" content="The rpart result object has a complex and compact design. This can make practical use tedious for occasional users as it is difficult to figure out how to access some specific information. The function Node() is designed as accessor to the most important properties of a node, being a 'split' or a 'leaf' (aka. 'endnode'). It also serves as base for further convenience functions as e.g. LeafRates().
"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ModTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/AndriSignorell/ModTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Nodes and Splits in an rpart Tree
<!-- %%  ~~function to do ... ~~ --></h1>
    
    <div class="hidden name"><code>Node.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>rpart</code> result object has a complex and compact design. This can make practical use tedious for occasional users as it is difficult to figure out how to access some specific information. The function <code>Node()</code> is designed as accessor to the most important properties of a node, being a 'split' or a 'leaf' (aka. 'endnode'). It also serves as base for further convenience functions as e.g. <code><a href="LeafRates.html">LeafRates</a>()</code>.
<!-- %%  ~~ A concise (1-5 lines) description of what the function does. ~~ --></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Node</span><span class="op">(</span><span class="va">x</span>, node <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"split"</span>, <span class="st">"leaf"</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>fitted model object of class <code>rpart</code>.
<!-- %%     ~~Describe \code{x} here~~ --></p></dd>

  <dt>node</dt>
<dd><p>integer vector, defining the nodes whose details are required.
<!-- %%     ~~Describe \code{node} here~~ --></p></dd>

  <dt>type</dt>
<dd><p>one out of <code>"all"</code> (default), <code>"split"</code>, <code>"leaf"</code>, where the latter two restrict the result set to splits or end nodes only. Can be abbreviated.
<!-- %%     ~~Describe \code{node} here~~ --></p></dd>

<dt>digits</dt>
<dd><p>the number of digits for numeric values</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p><code>Node()</code> returns detailed information for a single node in the tree. It reports all the data in the summary of a node, but with the option to provide a nodelist. The structure of the result is organised as a list.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing:
<!-- %%  ~Describe the value returned --></p>


<p><!-- %%  If it is a LIST, use --></p>
<dl><dt>id</dt>
<dd><p>int, id of the node</p></dd>

<dt>vname </dt>
<dd><p>character, one out of <code>'leaf'</code> or <code>'split'</code></p></dd>

<dt>isleaf </dt>
<dd><p>logical, <code>TRUE</code> for leaves <code>FALSE</code> else</p></dd>

<dt>nobs</dt>
<dd><p>integer, number of observation in the node</p></dd>

<dt>group  </dt>
<dd><p>character, the predicted class for the node</p></dd>

<dt>ycount</dt>
<dd><p>numeric, the number of observation per class in the node</p></dd>

<dt>yprob</dt>
<dd><p>numeric, the relative frequencies for the each class</p></dd>

<dt>nodeprob </dt>
<dd><p>the global probability for an observation to fall in the node</p></dd>

<dt>complexity</dt>
<dd><p>numeric, the complexity parameter for the node</p></dd>

<dt>tprint</dt>
<dd><p>character, the text to be printed</p></dd>

</dl></div>
    <div id="author">
    <h2>Author</h2>
    <p>Andri Signorell &lt;andri@signorell.net&gt;
<!-- %%  ~~who you are~~ --></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="LeafRates.html">LeafRates</a></code>, <code><a href="Rules.html">Rules</a></code>
<!-- %% ~~objects to See Also as \code{\link{help}}, ~~~ --></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">r.rpart</span> <span class="op">&lt;-</span> <span class="fu"><a href="FitMod.html">FitMod</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">~</span> <span class="va">.</span>, data<span class="op">=</span><span class="va">iris</span>, fitfn<span class="op">=</span><span class="st">"rpart"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># return Node nr. 3</span></span></span>
<span class="r-in"><span><span class="fu">Node</span><span class="op">(</span><span class="va">r.rpart</span>, node<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Node number 3: 100 observations,    complexity param=0.44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   predicted class=versicolor  expected loss=0.5  P(node) =0.667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     class counts:     0    50    50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    probabilities: 0.000 0.500 0.500 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   left son=6 (54 obs) right son=7 (46 obs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Primary splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 1.75 to the left,  improve=39, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  improve=37.4, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  improve=10.7, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.45 to the left,  improve=3.56, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Surrogate splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  agree=0.91, adj=0.804, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  agree=0.73, adj=0.413, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.95 to the left,  agree=0.67, adj=0.283, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">r.rp</span> <span class="op">&lt;-</span> <span class="fu"><a href="FitMod.html">FitMod</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">d.glass</span>, fitfn<span class="op">=</span><span class="st">"rpart"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># return all the splits</span></span></span>
<span class="r-in"><span><span class="fu">Node</span><span class="op">(</span><span class="va">r.rpart</span>, type<span class="op">=</span><span class="st">"split"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Node number 1: 150 observations,    complexity param=0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   predicted class=setosa      expected loss=0.667  P(node) =1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     class counts:    50    50    50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    probabilities: 0.333 0.333 0.333 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   left son=2 (50 obs) right son=3 (100 obs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Primary splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 2.45 to the left,  improve=50, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 0.8  to the left,  improve=50, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 5.45 to the left,  improve=34.2, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 3.35 to the right, improve=19, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Surrogate splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 0.8  to the left,  agree=1, adj=1, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 5.45 to the left,  agree=0.92, adj=0.76, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 3.35 to the right, agree=0.833, adj=0.5, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Node number 3: 100 observations,    complexity param=0.44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   predicted class=versicolor  expected loss=0.5  P(node) =0.667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     class counts:     0    50    50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    probabilities: 0.000 0.500 0.500 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   left son=6 (54 obs) right son=7 (46 obs)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Primary splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Width &lt; 1.75 to the left,  improve=39, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  improve=37.4, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  improve=10.7, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.45 to the left,  improve=3.56, (0 missing)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Surrogate splits:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Petal.Length &lt; 4.75 to the left,  agree=0.91, adj=0.804, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Length &lt; 6.15 to the left,  agree=0.73, adj=0.413, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Sepal.Width &lt; 2.95 to the left,  agree=0.67, adj=0.283, (0 split)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andri Signorell.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

